# Sealed Secret para credenciais da API ComexStat (MDIC)
#
# Este arquivo contém um Sealed Secret que será descriptografado automaticamente
# pelo Sealed Secrets Controller no cluster Kubernetes.
#
# Para criar/atualizar este secret:
#   1. Execute: ./scripts/create-sealed-secret-comexstat.sh
#   2. Commit o arquivo gerado
#   3. Apply: kubectl apply -f k8s/integration-gateway/sealed-secret-comexstat.yaml
#
# IMPORTANTE: Nunca commite o secret não-selado!

apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: comexstat-credentials
  namespace: data
  annotations:
    sealedsecrets.bitnami.com/cluster-wide: "false"
    description: "Credenciais para API ComexStat (MDIC)"
    owner: "data-team"
    last-updated: "2025-11-19"
spec:
  encryptedData:
    # PLACEHOLDER - Execute o script para gerar o valor real:
    # ./scripts/create-sealed-secret-comexstat.sh
    #
    # O secret terá as seguintes keys:
    # - api-key: API Key para autenticação na API ComexStat
    #
    # Após selar, o formato será:
    # api-key: AgB... (string longa criptografada)
    api-key: PLACEHOLDER_ENCRYPTED_VALUE
  template:
    metadata:
      name: comexstat-credentials
      namespace: data
      labels:
        app: integration-gateway
        component: external-api
        provider: mdic
        type: api-credentials
      annotations:
        description: "ComexStat API credentials"
    type: Opaque
