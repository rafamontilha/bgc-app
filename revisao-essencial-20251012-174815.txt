RELATÓRIO DE REVISÃO - ARQUIVOS PARA LIMPEZA
Data: 12/10/2025 17:48:16


1  api\main.go

   Existe: SIM (16635 bytes)
   Duplicado de: api\cmd\api\main.go (337 bytes)
   Comparação: DIFERENTE
   Diferença: 16298 bytes

   ⚠️  RECOMENDAÇÃO: REVISAR MANUALMENTE
   Razão: Conteúdos diferentes - verificar qual é correto
   Comando: code --diff api\main.go api\cmd\api\main.go

2  deploy\sql\migrate_0001.sql

   Existe: SIM (1066 bytes)
   Equivalente em db\migrations\:  SIM
   ConfigMap YAML existe:  SIM
   Ativo no cluster:  SIM

    RECOMENDAÇÃO: DELETAR
   Razão: Redundante - existe em db\migrations\ e como ConfigMap

3  deploy\sql\migrate_0002_proveniencia.sql
─
   Existe: SIM (673 bytes)
   Objetivo: Adiciona colunas ingest_source, ingest_at, ingest_batch

   Status no banco:  NÃO APLICADA
   ConfigMap existe:  SIM

     RECOMENDAÇÃO: MANTER (ou aplicar primeiro)
   Razão: Migration ainda não aplicada
   Ação sugerida: Aplicar no banco antes de deletar


RESUMO E PLANO DE AÇÃO
═

DECISÕES:

 SEGUROS PARA DELETAR (3):
   • deploy\sql\migrate_0001.sql

⚠️  PRECISAM REVISÃO MANUAL (3):
    api\main.go

 MANTER (3):
    deploy\sql\migrate_0002_proveniencia.sql


PLANO DE AÇÃO:

1. CHECKPOINT
   git add . && git commit -m 'checkpoint: antes da limpeza'

2. DELETAR SEGUROS
   Remove-Item 'deploy/sql/migrate_0001.sql' -Force

3. TESTAR
   kubectl get pods -n data
   curl http://localhost:8080/healthz

4. COMMIT
   git add . && git commit -m 'chore: remove 3 arquivos duplicados'

5. REVISAR MANUALMENTE
   Arquivos que precisam comparação manual:
   - api\main.go
   Arquivos que devem ser mantidos (ou aplicados primeiro):
   - deploy\sql\migrate_0002_proveniencia.sql


FIM DO RELATÓRIO
