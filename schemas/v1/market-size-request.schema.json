{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://bgc.dev/schemas/v1/market-size-request.json",
  "title": "Market Size Request",
  "description": "Schema for market size calculation request parameters",
  "type": "object",
  "properties": {
    "metric": {
      "type": "string",
      "enum": ["TAM", "SAM", "SOM"],
      "description": "Market metric type: TAM (Total Addressable Market), SAM (Serviceable Addressable Market), SOM (Serviceable Obtainable Market)"
    },
    "year_from": {
      "type": "integer",
      "minimum": 2000,
      "maximum": 2100,
      "description": "Starting year for market analysis"
    },
    "year_to": {
      "type": "integer",
      "minimum": 2000,
      "maximum": 2100,
      "description": "Ending year for market analysis"
    },
    "ncm_chapter": {
      "type": "string",
      "pattern": "^[0-9]{2}$",
      "description": "NCM chapter (2 digits). Optional - if not provided, aggregates all chapters"
    },
    "scenario": {
      "type": "string",
      "enum": ["base", "aggressive"],
      "default": "base",
      "description": "SOM calculation scenario: base (1.5%) or aggressive (3.0%)"
    }
  },
  "required": ["metric", "year_from", "year_to"],
  "additionalProperties": false,
  "examples": [
    {
      "metric": "TAM",
      "year_from": 2020,
      "year_to": 2023
    },
    {
      "metric": "SOM",
      "year_from": 2022,
      "year_to": 2023,
      "ncm_chapter": "84",
      "scenario": "aggressive"
    }
  ]
}
